<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
      xmlns:shiro="http://www.pollix.at/thymeleaf/shiro"
      layout:decorator="layout">

<head>
    <title>录入</title>
</head>

<body>

<ul layout:fragment="breadcrumbs">
    <li>
        <i class="ace-icon fa fa-home home-icon"></i>
        <a th:href="@{/dashboard}">工作台</a>
    </li>

    <li class="active">成绩管理</li>
</ul>

<h1 layout:fragment="page-header">
    录入
    <small>
        <i class="ace-icon fa fa-angle-double-right"></i>
        列表
    </small>
    <span class="pull-right inline">
        <a data-backdrop="static" data-toggle="modal" class="btn btn-xs btn-primary" th:href="@{/score/create}" data-target="#myModal">录入</a>
    </span>
</h1>

<ul layout:fragment="nav">
    <li class="">
        <a th:href="@{/dashboard}">
            <i class="menu-icon fa fa-tachometer"></i>
            <span class="menu-text"> 工作台 </span>
        </a>

        <b class="arrow"></b>
    </li>

    <li class="active open">
        <a href="#" class="dropdown-toggle">
            <i class="menu-icon fa fa-desktop"></i>
                <span class="menu-text">
                    成绩管理
                </span>

            <b class="arrow fa fa-angle-down"></b>
        </a>

        <b class="arrow"></b>

        <ul class="submenu">
            <li shiro:hasRole="student" class="">
                <a th:href="@{/score}">
                    <i class="menu-icon fa fa-caret-right"></i>
                    个人
                </a>

                <b class="arrow"></b>
            </li>

            <li shiro:lacksRole="administrator" class="">
                <a th:href="@{/score/sort}">
                    <i class="menu-icon fa fa-caret-right"></i>
                    排名
                </a>

                <b class="arrow"></b>
            </li>

            <li shiro:hasRole="teacher" class="active">
                <a th:href="@{/score/manage}">
                    <i class="menu-icon fa fa-caret-right"></i>
                    录入
                </a>

                <b class="arrow"></b>
            </li>
        </ul>
    </li>
</ul>

<div layout:fragment="content">
    <form id="search-form" class="form-inline" method="get">
        <div class="col-md-12">
            <div>
                <select class="form-control" name="roleId">
                    <option value="">--所有课程--</option>
                </select>
                <input type="text" class="form-control" name="keywords" placeholder="姓名" value=""/>
                <button class="btn btn-purple btn-sm">
                    搜索
                    <span class="ace-icon fa fa-search icon-on-right bigger-110"></span>
                </button>
            </div>

        </div>
    </form>
    <div class="space-24"></div>

    <div class="col-xs-12">
        <table id="score-table" class="table table-striped table-bordered table-hover">
            <thead>
            <tr>
                <th>学生</th>
                <th>课程</th>
                <th width="20%">得分</th>
                <th width="20%">录入时间</th>
                <th width="10%">操作</th>
            </tr>
            </thead>
            <tbody>
                <tr th:each="score : ${scores}">
                    <td>
                        <a th:text="${score.accountName}"></a>
                    </td>
                    <td th:text="${score.courseName}"></td>
                    <td th:text="${score.score}"></td>
                    <td th:text="${score.time}"></td>
                    <td>
                        <div class="visible-md visible-lg hidden-sm hidden-xs btn-group">
                            <a class="btn btn-xs btn-info" data-backdrop="static" data-toggle="modal" th:href="${'/score/' + score.id + '/edit'}" data-target="#myModal">
                                <i class="ace-icon fa fa-pencil bigger-120"></i>
                            </a>
                            <a class="btn btn-xs btn-danger" href="javascript:" title="删除" data-role="delete-score"
                               th:attr="data-url=${'/score/' + score.id + '/delete'}">
                                <i class="ace-icon fa fa-trash-o bigger-120"></i>
                            </a>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<script layout:fragment="script" th:src="@{/app/score/manage.js}"></script>
</body>
</html>